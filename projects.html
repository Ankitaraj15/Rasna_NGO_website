<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Rasna Seva Sansthan Rahar Diyara - Projects</title>
  <link rel="stylesheet" href="style.css" />
  <link href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;700&family=Noto+Serif+Devanagari:wght@400;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    .file-input {
      display: block;
      margin: 1rem auto;
      padding: 0.5rem;
      border: 1px solid #ccc;
      border-radius: 5px;
      font-size: calc(1rem + 0.2vw);
    }
    .form-label {
      display: block;
      font-size: calc(1.1rem + 0.2vw);
      margin-bottom: 0.5rem;
      color: #003087;
    }
    .form-label.hindi {
      font-size: calc(1rem + 0.2vw);
    }
  </style>
</head>
<body>
  <header>
    <div class="navbar">
      <h1 class="logo">Rasna Seva <br> Sansthan</h1>
      <nav>
        <div class="hamburger">☰</div>
        <ul class="nav-links">
          <li><a href="index.html">Home</a></li>
          <li><a href="about.html">About</a></li>
          <li><a href="projects.html" class="active">Projects</a></li>
          <li><a href="mission.html">Missions</a></li>
          <li><a href="gallery.html">Gallery</a></li>
          <li><a href="contact.html">Contact</a></li>
          <li><a href="donation.html">Donate</a></li>
        </ul>
      </nav>
    </div>
  </header>

  <section class="gallery-section">
    <div class="gallery-container">
      <h2>Our Projects</h2>
      <h2 class="hindi">हमारे प्रोजेक्ट्स</h2>
      <p>Discover the impact of our initiatives through these moments captured in our work.</p>
      <p class="hindi">हमारे कार्यों में कैद इन पलों के माध्यम से हमारी पहलों का प्रभाव जानें।</p>
      <div class="gallery-item" data-id="kanyadaan">
        <p><b>Kanyadaan for Poor Women.</b> <br> We are currently working on Kanyadaan to empower underprivileged women who cannot afford marriage expenses, helping them start a new chapter with dignity and hope.</p>
        <p class="hindi">हम वर्तमान में कन्यादान पर काम कर रहे हैं ताकि वंचित महिलाओं को सशक्त बनाया जा सके जो शादी के खर्च वहन नहीं कर सकतीं, उन्हें गरिमा और आशा के साथ नया जीवन शुरू करने में मदद करना।</p>
        <img src="images/slide29.jpg" alt="Kanyadaan for Poor Women">
      </div>
      <div class="gallery-item" data-id="health">
        <p><b>Health Initiatives.</b> <br> Providing essential healthcare services and medical camps to improve the well-being of underserved communities, ensuring access to quality health support.</p>
        <p class="hindi">वंचित समुदायों के कल्याण के लिए आवश्यक स्वास्थ्य सेवाएँ और मेडिकल कैंप प्रदान करना, गुणवत्तापूर्ण स्वास्थ्य सहायता तक पहुँच सुनिश्चित करना।</p>
        <img src="images/slide14.jpg" alt="Health Initiatives">
      </div>
      <div class="gallery-item" data-id="pads">
        <p><b>Distributed Pads to Poor Women.</b> <br> Providing sanitary pads to underprivileged women during menstruation, we promote health, dignity, and confidence. This initiative breaks taboos and empowers women to live freely.</p>
        <p class="hindi">वंचित महिलाओं को मासिक धर्म के दौरान सैनिटरी पैड प्रदान कर, हम स्वास्थ्य, गरिमा और आत्मविश्वास को बढ़ावा देते हैं। यह पहल रूढ़ियों को तोड़कर महिलाओं को स्वतंत्रता देती है।</p>
        <img src="images/slide32.jpg" alt="Distributed Pads to Poor Women">
      </div>
      <div class="gallery-item" data-id="education">
        <p><b>Education for Poor Children.</b> <br> We provide free education to poor children, unlocking their potential and breaking the cycle of poverty. Every child deserves the chance to dream big.</p>
        <p class="hindi">हम गरीब बच्चों को मुफ्त शिक्षा प्रदान करते हैं, उनकी क्षमता को उजागर कर गरीबी के चक्र को तोड़ते हैं। प्रत्येक बच्चा बड़े सपने देखने का हकदार है।</p>
        <img src="images/slide33.jpg" alt="Education for Poor Children">
      </div>
      <div class="gallery-item" data-id="summer">
        <p><b>Summer Camp for Youth.</b> <br> Our summer camps teach judo, self-defense, and life skills, empowering youth with confidence and discipline. These programs foster strength and resilience in our community.</p>
        <p class="hindi">हमारे ग्रीष्मकालीन शिविर जूडो, आत्मरक्षा और जीवन कौशल सिखाते हैं, जो युवाओं को आत्मविश्वास और अनुशासन प्रदान करते हैं। ये कार्यक्रम हमारे समुदाय में ताकत और लचीलापन बढ़ाते हैं।</p>
        <img src="images/slide34.jpg" alt="Summer Camp for Youth">
      </div>
      <div class="gallery-item" data-id="temples">
        <p><b>Building Temples.</b> <br> We construct temples to foster spiritual growth and community unity, providing sacred spaces for worship and reflection. These sanctuaries strengthen cultural values and inspire hope.</p>
        <p class="hindi">हम आध्यात्मिक विकास और सामुदायिक एकता को बढ़ावा देने के लिए मंदिर बनाते हैं, जो पूजा और चिंतन के लिए पवित्र स्थान प्रदान करते हैं। ये तीर्थस्थल सांस्कृतिक मूल्यों को मजबूत करते हैं और आशा प्रेरित करते हैं।</p>
        <img src="images/slide37.jpg" alt="Building Temples">
      </div>
      <div class="gallery-item" data-id="coaching">
        <p><b>Coaching for Competitive Exams.</b> <br> Offering free coaching for Navodaya, Sainik, Netarhat, Simultala, and police exams, we pave the way for underprivileged students’ success. Education is their path to a brighter future.</p>
        <p class="hindi">नवोदय, सैनिक, नेतरहाट, सिमुलतला और पुलिस परीक्षाओं के लिए मुफ्त कोचिंग प्रदान कर, हम वंचित छात्रों के लिए सफलता का मार्ग प्रशस्त करते हैं। शिक्षा उनका उज्जवल भविष्य है।</p>
        <img src="images/slide35.jpg" alt="Coaching for Competitive Exams">
      </div>
      <div class="gallery-item" data-id="computer">
        <p><b>Computer Literacy Program.</b> <br> Our computer literacy program equips underprivileged individuals with digital skills for a modern world. Technology opens doors to opportunity and empowerment.</p>
        <p class="hindi">हमारा कंप्यूटर साक्षरता कार्यक्रम वंचित व्यक्तियों को आधुनिक दुनिया के लिए डिजिटल कौशल प्रदान करता है। प्रौद्योगिकी अवसर और सशक्तिकरण के द्वार खोलती है।</p>
        <img src="images/slide36.jpg" alt="Computer Literacy Program">
      </div>
      <div class="gallery-item" data-id="toilets">
        <p><b>Building Toilets.</b> <br> During the Swachh Bharat Abhiyan initiated by PM Modi, we built toilets to promote sanitation and cleanliness, enhancing the quality of life for rural communities.</p>
        <p class="hindi">पीएम मोदी द्वारा शुरू किए गए स्वच्छ भारत अभियान के दौरान, हमने स्वच्छता और सफाई को बढ़ावा देने के लिए शौचालय बनाए, जिससे ग्रामीण समुदायों के जीवन की गुणवत्ता में सुधार हुआ।</p>
        <img src="images/slide30.jpg" alt="Building Toilets">
      </div>
      <div class="gallery-item" data-id="covid">
        <p><b>Helping People During COVID.</b> <br> Extending support during the COVID-19 pandemic by providing medical supplies, awareness campaigns, and aid to those affected, standing strong in crisis.</p>
        <p class="hindi">COVID-19 महामारी के दौरान चिकित्सा आपूर्ति, जागरूकता अभियान और प्रभावित लोगों को सहायता प्रदान करके समर्थन देना, संकट में दृढ़ता से खड़े रहना।</p>
        <img src="images/slide19.jpg" alt="Helping People During COVID">
      </div>
      <div class="gallery-item" data-id="food">
        <p><b>Distributing Food.</b> <br> Distributing food to alleviate hunger among the needy, ensuring no one in our community goes without a meal, spreading care and compassion.</p>
        <p class="hindi">जरूरतमंदों में भूख मिटाने के लिए भोजन वितरण, यह सुनिश्चित करना कि हमारे समुदाय में कोई भोजन के बिना न रहे, देखभाल और करुणा फैलाना।</p>
        <img src="images/slide20.jpg" alt="Distributing Food">
      </div>
      <div class="upload-section">
        <span class="upload-btn" id="add-project-btn">Add Project</span>
      </div>
    </div>
    <!-- Add Project Modal -->
    <div class="modal" id="add-project-modal">
      <div class="modal-content">
        <p>Add a New Project</p>
        <p class="hindi">नया प्रोजेक्ट जोड़ें</p>
        <label class="form-label" for="project-title">Project Title</label>
        <label class="form-label hindi" for="project-title">प्रोजेक्ट का शीर्षक</label>
        <input type="text" id="project-title" class="form-input" placeholder="Enter project title" required>
        <label class="form-label" for="project-content-en">Project Content (English)</label>
        <label class="form-label hindi" for="project-content-en">प्रोजेक्ट सामग्री (अंग्रेजी)</label>
        <textarea id="project-content-en" class="form-input" placeholder="Enter project content in English" required></textarea>
        <label class="form-label" for="project-content-hi">Project Content (Hindi)</label>
        <label class="form-label hindi" for="project-content-hi">प्रोजेक्ट सामग्री (हिंदी)</label>
        <textarea id="project-content-hi" class="form-input" placeholder="Enter project content in Hindi" required></textarea>
        <label class="form-label" for="project-photo">Project Photo (1 photo required)</label>
        <label class="form-label hindi" for="project-photo">प्रोजेक्ट फोटो (1 फोटो आवश्यक)</label>
        <input type="file" id="project-photo" class="file-input" accept="image/*" required>
        <div class="modal-buttons">
          <button class="modal-btn" id="add-project-ok">OK</button>
          <button class="modal-btn" id="add-project-cancel">Cancel</button>
        </div>
      </div>
    </div>
    <!-- Password Error Modal -->
    <div class="modal" id="password-error-modal">
      <div class="modal-content">
        <p>Incorrect password. Please try again.</p>
        <p class="hindi">गलत पासवर्ड। कृपया पुनः प्रयास करें।</p>
        <button class="modal-btn" id="password-error-ok">OK</button>
      </div>
    </div>
    <!-- Delete Confirmation Modal -->
    <div class="modal" id="delete-project-modal">
      <div class="modal-content">
        <p>Are you sure you want to delete this project?</p>
        <p class="hindi">क्या आप वाकई इस प्रोजेक्ट को हटाना चाहते हैं?</p>
        <div class="modal-buttons">
          <button class="modal-btn" id="confirm-delete-project">OK</button>
          <button class="modal-btn" id="cancel-delete-project">Cancel</button>
        </div>
      </div>
    </div>
  </section>

  <footer>
    <div class="footer-content">
      <div class="footer-section">
        <h3>Contact Us</h3>
        <h3 class="hindi">हमसे संपर्क करें</h3>
        <p><i class="fas fa-map-marker-alt"></i> Rahar Diyara, Sonpur, Saran, Bihar, India</p>
        <p class="hindi"><i class="fas fa-map-marker-alt"></i> राहर दियारा, सोनपुर, सारण, बिहार, भारत</p>
        <p><i class="fas fa-phone"></i> +91 74887 44048</p>
        <p><i class="fas fa-envelope"></i> <a href="mailto:rasnasevasansthan@gmail.com" class="email-link">rasnasevasansthan@gmail.com</a></p>
      </div>
      <div class="footer-section">
        <h3>Quick Links</h3>
        <ul>
          <li><a href="index.html">Home</a></li>
          <li><a href="about.html">About</a></li>
          <li><a href="projects.html">Projects</a></li>
          <li><a href="mission.html">Missions</a></li>
          <li><a href="gallery.html">Gallery</a></li>
          <li><a href="contact.html">Contact</a></li>
          <li><a href="donation.html">Donate</a></li>
        </ul>
      </div>
    </div>
    <div class="footer-bottom">
      <p>© 2025 Rasna Seva Sansthan Rahar Diyara. All rights reserved.</p>
      <p class="hindi">© 2025 रसना सेवा संस्थान राहर दियारा। सर्वाधिकार सुरक्षित।</p>
    </div>
  </footer>

  <script>
    // Hamburger menu toggle
    document.querySelector('.hamburger').addEventListener('click', () => {
      document.querySelector('.nav-links').classList.toggle('active');
    });

    // Password for add/delete
    const CORRECT_PASSWORD = '4564';

    // Add Project functionality
    const addProjectBtn = document.getElementById('add-project-btn');
    const addProjectModal = document.getElementById('add-project-modal');
    const passwordErrorModal = document.getElementById('password-error-modal');
    const addProjectOk = document.getElementById('add-project-ok');
    const addProjectCancel = document.getElementById('add-project-cancel');
    const passwordErrorOk = document.getElementById('password-error-ok');
    const galleryContainer = document.querySelector('.gallery-container');

    // Load projects from LocalStorage on page load
    function loadProjects() {
      const projects = JSON.parse(localStorage.getItem('projects') || '[]');
      projects.forEach(project => {
        const newProject = document.createElement('div');
        newProject.classList.add('gallery-item');
        newProject.setAttribute('data-id', project.id);
        newProject.innerHTML = `
          <p><b>${project.title}</b><br>${project.contentEn}</p>
          <p class="hindi">${project.contentHi}</p>
          <img src="${project.photo}" alt="${project.title}">
        `;
        galleryContainer.insertBefore(newProject, galleryContainer.querySelector('.upload-section'));
        attachLongPressEvent(newProject);
      });
    }

    // Call loadProjects on page load
    loadProjects();

    addProjectBtn.addEventListener('click', () => {
      const password = prompt('Enter password to proceed:');
      if (password === CORRECT_PASSWORD) {
        addProjectModal.style.display = 'flex';
      } else {
        passwordErrorModal.style.display = 'flex';
      }
    });

    addProjectOk.addEventListener('click', () => {
      const title = document.getElementById('project-title').value.trim();
      const contentEn = document.getElementById('project-content-en').value.trim();
      const contentHi = document.getElementById('project-content-hi').value.trim();
      const photo = document.getElementById('project-photo').files[0];

      if (!title || !contentEn || !contentHi || !photo) {
        alert('Please fill all fields and upload exactly one photo.');
        return;
      }

      // Convert photo to Base64
      const reader = new FileReader();
      reader.onload = function(e) {
        const photoBase64 = e.target.result;
        const uniqueId = `project-${Date.now()}`;

        // Create new project
        const newProject = document.createElement('div');
        newProject.classList.add('gallery-item');
        newProject.setAttribute('data-id', uniqueId);
        newProject.innerHTML = `
          <p><b>${title}</b><br>${contentEn}</p>
          <p class="hindi">${contentHi}</p>
          <img src="${photoBase64}" alt="${title}">
        `;

        // Insert new project before the upload section
        galleryContainer.insertBefore(newProject, galleryContainer.querySelector('.upload-section'));

        // Save to LocalStorage
        const projects = JSON.parse(localStorage.getItem('projects') || '[]');
        projects.push({ id: uniqueId, title, contentEn, contentHi, photo: photoBase64 });
        localStorage.setItem('projects', JSON.stringify(projects));

        // Reset form and close modal
        document.getElementById('project-title').value = '';
        document.getElementById('project-content-en').value = '';
        document.getElementById('project-content-hi').value = '';
        document.getElementById('project-photo').value = '';
        addProjectModal.style.display = 'none';

        // Attach long press event to new project
        attachLongPressEvent(newProject);
      };
      reader.readAsDataURL(photo);
    });

    addProjectCancel.addEventListener('click', () => {
      // Reset form and close modal
      document.getElementById('project-title').value = '';
      document.getElementById('project-content-en').value = '';
      document.getElementById('project-content-hi').value = '';
      document.getElementById('project-photo').value = '';
      addProjectModal.style.display = 'none';
    });

    passwordErrorOk.addEventListener('click', () => {
      passwordErrorModal.style.display = 'none';
    });

    // Long press detection for project deletion
    let longPressTimer;
    const longPressDuration = 500; // 500ms for long press

    function attachLongPressEvent(item) {
      const img = item.querySelector('img');
      let isLongPress = false;

      const startPress = () => {
        isLongPress = false;
        longPressTimer = setTimeout(() => {
          isLongPress = true;
          const password = prompt('Enter 4-digit password to delete project:');
          if (password === CORRECT_PASSWORD) {
            showDeleteModal(item);
          } else {
            passwordErrorModal.style.display = 'flex';
          }
        }, longPressDuration);
      };

      const endPress = () => {
        clearTimeout(longPressTimer);
      };

      // For touch devices
      img.addEventListener('touchstart', startPress);
      img.addEventListener('touchend', endPress);
      img.addEventListener('touchcancel', endPress);

      // For desktop
      img.addEventListener('mousedown', startPress);
      img.addEventListener('mouseup', endPress);
      img.addEventListener('mouseleave', endPress);
    }

    // Attach long press to existing gallery items
    document.querySelectorAll('.gallery-item').forEach(attachLongPressEvent);

    // Delete modal functionality
    const deleteProjectModal = document.getElementById('delete-project-modal');
    const confirmDeleteProject = document.getElementById('confirm-delete-project');
    const cancelDeleteProject = document.getElementById('cancel-delete-project');
    let itemToDelete = null;

    function showDeleteModal(item) {
      itemToDelete = item;
      deleteProjectModal.style.display = 'flex';
    }

    confirmDeleteProject.addEventListener('click', () => {
      deleteProjectModal.style.display = 'none';
      if (itemToDelete) {
        const itemId = itemToDelete.getAttribute('data-id');
        // Remove from LocalStorage
        const projects = JSON.parse(localStorage.getItem('projects') || '[]');
        const updatedProjects = projects.filter(project => project.id !== itemId);
        localStorage.setItem('projects', JSON.stringify(updatedProjects));
        // Remove from DOM
        itemToDelete.remove();
        itemToDelete = null;
        alert('Project deleted successfully');
      }
    });

    cancelDeleteProject.addEventListener('click', () => {
      itemToDelete = null;
      deleteProjectModal.style.display = 'none';
    });
  </script>
</body>
</html>
